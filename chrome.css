/*This is the section for the modification of the url bar- built on the work of lingais*/
/* Remove border from the URL bar when not focused */
#urlbar:not([focused]) {
  border: none !important;
}

/* Popout url bar with background blur */
#urlbar:is([breakout][breakout-extend], [breakout][usertyping][focused]) {
  z-index: 2;
}

/*set background of grid url to be translusent in nature*/
#urlbar[breakout-extend="true"] .urlbar-background{
    background-color: color-mix(in hsl, hsl(0 0 10), transparent 40%) !important;
    backdrop-filter: blur(25px)  !important;
    border: solid 3px color-mix(in hsl, hsl(0 0 50), transparent 90%) !important;
    border-radius: 20px !important;
}}

/* make the url bar rounded in nature */
#urlbar-container[breakout], .urlbar-background{
  border-radius: 20px !important;
}
#urlbar:not([breakout-extend="true"]) #identity-box{
    border-radius: 50px;
    overflow:hidden;
    margin-right:-3px;
  }
#urlbar[breakout-extend="true"] #identity-box{
    border-radius: 50px;
    overflow:hidden;
  }

/* code to adjust the margin-adjustment when the url is not floating */
#zen-appcontent-navbar-container #urlbar[breakout-extend="true"]:not([zen-floating-urlbar]){
  margin-top: 7px;
}

/* remember to fix the squeezing identity box issue eventually*/

/* set navbar height to super compact density */
#nav-bar {
  height: 40px !important;
  min-height: 30px !important;
}

/* Remove top toolbar padding */
#nav-bar > :not(.titlebar-buttonbox-container) {
  padding-top: 0px;
  padding-bottom: 0px;
}

/* Remove border padding */
:root:not([inDOMFullscreen="true"]):not([chromehidden~="location"]):not(
    [chromehidden~="toolbar"]
  ) {
  & #tabbrowser-tabbox #tabbrowser-tabpanels .browserSidebarContainer {
    margin: 0 !important;
    border-radius: 0 !important;
  }
}
:root:not([zen-compact-mode="true"]):not([inDOMFullscreen="true"]):not(
    [chromehidden~="location"]
  ):not([chromehidden~="toolbar"]) {
  & #tabbrowser-tabbox #tabbrowser-tabpanels .browserSidebarContainer {
    margin: 0 !important;
    border-radius: var(
      --zen-webview-border-radius,
      var(--zen-border-radius)
    ) !important;
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
}

/* Reduce sidebar gap in compact mode */
:root[zen-compact-mode="true"] {
  #navigator-toolbox {
    padding: 5px !important;
  }
}

/* quick access grid */
#urlbar:not([usertyping]) {
  .urlbarView-results {
    padding-inline: 10px !important;
    display: grid !important;
    grid-template-rows: repeat(2, auto) !important;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)) !important;
    gap: 10px;
    justify-content: space-evenly !important;
    white-space: normal !important;
  }

  .urlbarView-row-inner {
    justify-content: center !important;
    padding: 10px !important;
    width: 100px !important;
    mask-image: linear-gradient(to left, transparent, black 3ch);
  }

  .urlbarView-no-wrap {
    display: flex !important;
    flex-direction: column !important;
    max-width: 100% !important;
    overflow: hidden;
  }

  .urlbarView-favicon {
    width: 32px !important;
    height: 32px !important;
    margin: 0px !important;
    margin-bottom: 8px !important;
  }

  .urlbarView-url,
  .urlbarView-title-separator,
  .urlbarView-type-icon {
    display: none !important;
  }
}

/*This is the background of the entire application menu, as well as the form object*/
#appMenu-popup #appMenu-multiView {
  background-color: color-mix(in hsl, hsl(0 0 10), transparent 40%) !important;
  backdrop-filter: blur(25px)  !important;
  border: solid 3px color-mix(in hsl, hsl(0 0 50), transparent 90%) !important;
  overflow:hidden;
  border-radius: 20px;
}
/*This is a sub-object which conforms the maximum width to which the elements found within
size to*/
panelview#appMenu-mainView{
  width:25em !important;
}
/*This controls the buttons and objects within the application menu, 
explaination hopefully prevents the need of color code identification*/
panelview#appMenu-mainView vbox.panel-subview-body{
  flex-direction: row !important;
  flex-wrap: wrap;
  align-items: flex-start !important;
  justify-content: space-between;
}
panelview#appMenu-mainView vbox.panel-subview-body toolbarbutton{
  width:16.67%;
  margin: 0px !important;
  overflow:hidden;
}

panelview#appMenu-mainView vbox.panel-subview-body toolbaritem{
  width:100%;
}
panelview#appMenu-mainView vbox.panel-subview-body toolbaritem toolbarbutton{
  width:auto;
}

panelview#appMenu-mainView vbox.panel-subview-body .subviewbutton {
  &[shortcut]::after{
    display:none !important;
  }
}
panelview#appMenu-mainView vbox.panel-subview-body toolbarbutton image{
  display:flex;
  justify-content: center;
}
panelview#appMenu-mainView vbox.panel-subview-body toolbarbutton label{
  display:none !important;
}
panelview#appMenu-mainView vbox.panel-subview-body toolbaritem toolbarbutton#appMenu-fxa-label2 label, panelview#appMenu-mainView vbox.panel-subview-body toolbaritem toolbarbutton#appMenu-zoomReset-button2 label{
  display: block !important
}

panelview#appMenu-mainView vbox.panel-subview-body #appMenu-fxa-status2{
  width:100%;
}
panelview#appMenu-mainView vbox.panel-subview-body toolbarseparator{
  display:none;
}
panelview#appMenu-mainView vbox.panel-subview-body #appMenu-fxa-separator{
  display:flex;
  width:100%;
}




